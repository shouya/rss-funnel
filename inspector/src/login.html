<html>
  <head>
    <meta charset="utf-8" />
    <title>RSS Funnel Inspector - Login</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="-45 -50 140 140"%3E%3Ccircle cx="306.7" cy="343.7" r="11.4" fill="%23ff7b00" transform="translate(-282 -331)"/%3E%3Cpath fill="none" stroke="%23ff7b00" stroke-width="15" d="M-3 16a29 29 0 1 1 56 0"/%3E%3Cpath fill="none" stroke="%23ff7b00" stroke-width="15" d="M-23 18a49 49 0 1 1 96-1"/%3E%3Cpath fill="%23ff7b00" d="m-24 29 98-1-1 10-40 28 1 19H17l1-20-42-27z"/%3E%3C/svg%3E%0A'
    />
    <style>
      h2 {
        margin-bottom: 0.5rem;
      }

      body {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      form {
        margin-top: 15px;
        margin-bottom: 20px;
        display: flex;
        flex-direction: column;
        width: 200px;
        gap: 0.5rem;
      }

      .hidden {
        display: none;
      }

      p#message {
        color: red;
      }
    </style>
  </head>
  <body>
    <h2>RSS Funnel Inspector</h2>
    <p id="message" class="hidden"></p>
    <form action="/login" method="post">
      <input type="text" name="username" placeholder="Username" />
      <input type="password" name="password" placeholder="Password" />
      <input type="submit" value="Login" />
    </form>
    <footer><footer>
      <p>Powered by <a href="https://github.com/shouya/rss-funnel">RSS Funnel</a></p>
    </footer>
    <script>
      const message = document.getElementById("message");
      const search = window.location.search;
      if (search.includes("bad_auth")) {
        message.classList.remove("hidden");
        message.textContent = "Invalid username or password";
      } else if (search.includes("logged_out")) {
        message.classList.remove("hidden");
        message.textContent = "You have been logged out";
      } else if (search.includes("login_required")) {
        message.classList.remove("hidden");
        message.textContent = "You must be logged in to access that page";
      }
    </script>
  </body>
</html>
